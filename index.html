<!-- index.html (LAUNCHER PAGE) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Open</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="launcher">
  <main class="shell" aria-labelledby="launchHeading">
    <h1 id="launchHeading" class="sr-only">Open Audio Player</h1>

    <section class="launchOnly">
      <div class="launch-actions">
        <button type="button" id="launchPlayer" class="btn btn-launch">Open</button>
      </div>
    </section>
  </main>

  <script>
    (() => {
      function isMobileDevice() {
        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent || "") ||
          (window.matchMedia?.("(pointer: coarse)")?.matches && window.matchMedia?.("(max-width: 820px)")?.matches);
      }

      function openPlayer() {
        if (isMobileDevice()) {
          // Mobile: same tab
          window.location.href = "player.html";
          return;
        }
        // Desktop: popout window
        const width = 520, height = 720;
        const left = Math.max(0, (window.screen.width / 2) - (width / 2));
        const top = Math.max(0, (window.screen.height / 2) - (height / 2));
        window.open(
          "player.html",
          "open_player",
          `width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=no,status=no`
        );
      }

      document.getElementById("launchPlayer")?.addEventListener("click", openPlayer);
    })();
  </script>
</body>
</html>