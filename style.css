/* style.css — Updated for Section 508 / WCAG-friendly focus + clean state handling
   Notes:
   - Keep ONE styling source of truth (use this file, remove inline <style> if possible).
   - Preserves your Helvetica / black / white design.
*/

* { box-sizing: border-box; }

:root{
  --bg:#ffffff;
  --fg:#000000;
  --focus-blue:#005fcc;
  --font:"Helvetica Neue", Helvetica, Arial, sans-serif;
}

html, body { height: 100%; }

body{
  margin:0;
  padding:0;
  font-family: var(--font);
  background: var(--bg);
  color: var(--fg);
  -webkit-font-smoothing: antialiased;
}

/* Layout */
main{
  width: 100%;
  max-width: 380px;          /* matches your “dimensions constraint” */
  margin: 15vh auto 0 auto;  /* centers similarly to prior */
  padding: 20px;
}

/* ---------------------------------------
   Accessibility utilities
---------------------------------------- */
.sr-only{
  position:absolute !important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden;
  clip: rect(0, 0, 0, 0);
  white-space:nowrap;
  border:0;
}

/* High-visibility focus ring (keyboard) */
button:focus-visible,
select:focus-visible,
input:focus-visible{
  outline: 3px solid var(--focus-blue);
  outline-offset: 3px;
}

/* Ensure focus is still visible on Safari where :focus-visible may be limited */
button:focus,
select:focus,
input:focus{
  outline: 3px solid var(--focus-blue);
  outline-offset: 3px;
}

/* ---------------------------------------
   Section Switching
---------------------------------------- */
#controls, #credits, #popoutTitle, .separator { display:none; }
#launchOnly { display:block; }

body.popout #launchOnly,
body.mobile-player #launchOnly { display:none; }

body.popout #controls,
body.popout #credits,
body.popout #popoutTitle,
body.popout .separator,
body.mobile-player #controls,
body.mobile-player #credits,
body.mobile-player #popoutTitle,
body.mobile-player .separator { display:block; }

/* ---------------------------------------
   Typography (Title + Launch button match)
---------------------------------------- */
.title-style{
  font-family: inherit;
  font-weight: 400;
  font-size: 2rem;
  text-transform: uppercase;
  letter-spacing: 0.3em;
  text-align: center;
  padding-left: 0.3em; /* optical centering for wide spacing */
  color: var(--fg);
}

h1#popoutTitle{
  margin: 0 0 1.5rem 0;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--fg);
}

/* ---------------------------------------
   Launch View
---------------------------------------- */
#launchOnly{
  text-align:center;
  display:flex;
  flex-direction:column;
  justify-content:center;
  min-height: 200px;
}

.launch-actions{
  display:flex;
  justify-content:center;
}

/* The “Open” launch button */
#launchPlayer{
  background: var(--bg);
  border: 1px solid var(--fg);
  border-radius: 0;
  cursor:pointer;
  padding: 25px 50px;

  /* match title typography */
  font-size: 2rem;
  font-weight: 400;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  padding-left: calc(50px + 0.3em); /* optical centering */

  transition: background 0.12s ease, opacity 0.12s ease;
}

#launchPlayer:hover{ background:#f0f0f0; }
#launchPlayer:active{ opacity: 0.9; }

/* ---------------------------------------
   Controls layout
---------------------------------------- */
#controls{
  display:flex;
  flex-direction:column;
  gap: 1.5rem;
}

.form-group{
  display:flex;
  justify-content:space-between;
  align-items:center;
  width:100%;
}

label{
  font-size: 1rem;
  color: var(--fg);
  white-space: nowrap;
  margin-right: 1rem;
}

/* ---------------------------------------
   Select
---------------------------------------- */
select{
  background: var(--bg);
  border: 1px solid var(--fg);
  color: var(--fg);
  padding: 8px 12px;
  font-family: inherit;
  font-size: 1rem;
  border-radius: 0;
  cursor: pointer;
  text-align: right;
  min-width: 120px;
  -webkit-appearance: none;
  appearance: none;
}

/* ---------------------------------------
   Slider (range)
---------------------------------------- */
input[type="range"]{
  -webkit-appearance: none;
  appearance: none;
  width: 140px;
  height: 2px;
  background: var(--fg);
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;
}

/* Track */
input[type="range"]::-webkit-slider-runnable-track{
  height: 2px;
  background: var(--fg);
}
input[type="range"]::-moz-range-track{
  height: 2px;
  background: var(--fg);
  border: none;
}

/* Thumb */
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  background: var(--fg);
  border: none;
  border-radius: 0;
  margin-top: -6px; /* centers thumb on 2px track */
}

/* Firefox thumb */
input[type="range"]::-moz-range-thumb{
  width: 14px;
  height: 14px;
  background: var(--fg);
  border: none;
  border-radius: 0;
}

/* Make the thumb focus-visible in Safari/keyboard */
input[type="range"]:focus-visible::-webkit-slider-thumb,
input[type="range"]:focus::-webkit-slider-thumb{
  outline: 3px solid var(--focus-blue);
  outline-offset: 2px;
}
input[type="range"]:focus-visible::-moz-range-thumb,
input[type="range"]:focus::-moz-range-thumb{
  outline: 3px solid var(--focus-blue);
  outline-offset: 2px;
}

/* Disabled slider (when playing) */
input[type="range"]:disabled{
  opacity: 0.55;
  cursor: not-allowed;
}

/* ---------------------------------------
   Buttons (Play / Stop)
---------------------------------------- */
.form-actions{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-top: 1rem;
}

#playNow, #stop{
  font-family: inherit;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 15px 0;
  cursor: pointer;
  border: 1px solid var(--fg);
  border-radius: 0;
  transition: opacity 0.12s ease, background 0.12s ease, color 0.12s ease;
}

/* Default: Play unfilled, Stop filled (stopped state) */
#playNow{
  background: var(--bg);
  color: var(--fg);
  font-weight: 400;
}
#stop{
  background: var(--fg);
  color: var(--bg);
  font-weight: 700;
}

/* JS toggles class "filled" to indicate active state */
button.filled{
  background: var(--fg) !important;
  color: var(--bg) !important;
  font-weight: 700;
}
button:not(.filled){
  background: var(--bg) !important;
  color: var(--fg) !important;
  font-weight: 400;
}

button:hover{ opacity: 0.85; }

button:disabled{
  opacity: 0.55;
  cursor: not-allowed;
}

/* ---------------------------------------
   Separator + Footer
---------------------------------------- */
.separator{
  border: 0;
  border-top: 1px solid var(--fg);
  margin: 2rem 0 1.5rem 0;
}

footer#credits{
  text-align:left;
  font-size: 0.75rem;
  line-height: 1.5;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}